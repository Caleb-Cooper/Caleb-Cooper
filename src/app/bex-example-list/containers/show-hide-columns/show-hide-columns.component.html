<div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="closeForm()">
        <span aria-hidden="true">Ã—</span>
        </button>
        <h4 class="modal-title w-100" id="infoModalLabel">Show / Hide Columns</h4>
    </div>
    <div class="modal-body">
        <form [formGroup]="viewColumnsForm">
            <div class="font-weight-bold pb-2 text-uppercase">General</div>
             <div class="columns-container">
                 <ng-container class="no-border" *ngFor="let cl of viewColumns; let i = index">
                    <div class="pb-2 pt-2"><mdb-checkbox [formControlName]=cl.controlName class="default-checkbox-filled" [filledIn] ="true">{{cl.title}}</mdb-checkbox></div>
                 </ng-container>
             </div>    
        </form>
    </div>
    <div class="modal-footer pt-4">
        <div *ngIf="!isSavingView">
            <div class="float-right">
                <button type="button" class="btn btn-primary waves-light" (click)="applySelection()" mdbWavesEffect>Apply</button>
            </div>
            <div class="float-right">
                <button type="button" class="btn btn-primary waves-light" (click)="isSavingView = true" mdbWavesEffect>Save View</button>   
            </div>                
        </div>
        <div *ngIf="isSavingView">
            <form [formGroup]="viewSaveForm">
            <div class="p-1">
                <div class="font-weight-bold pb-2">
                    <p>Save this view as a favourite for easy future access.</p>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <div class="form-group pl-3">
                            <label class="font-weight-bold small">View's Name</label>
                            <input mdbInput formControlName="viewName" class="form-control form-white input-sm" type="text" placeholder="">
                            <mdb-error *ngIf="viewName.invalid && (viewName.dirty || viewName.touched)">
                                    <span class="mt-2 error-message" *ngIf="viewName.errors.required"><fa-icon [icon]="['fas','asterisk']" class="pr-2"></fa-icon>Please enter view name</span>
                           </mdb-error>
                        </div>
                    </div>
                    <div class="col-xs-12">
                        <div class="input-group pl-3">
                            <div class="icheck-list">
                                <label>
                                    <mdb-checkbox formControlName="isDefaultView" class="default-checkbox-filled" [filledIn] ="true">Set as default view</mdb-checkbox>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </form>
            <div class="pt-3 pr-1">
                <div class="float-right">
                        <button type="button" class="btn btn-primary waves-light" (click)="isSavingView = false" mdbWavesEffect>Cancel</button>   
                        <button type="button" class="btn btn-primary waves-light" (click)="saveView()" mdbWavesEffect>Save</button> 
                </div>
            </div>
        </div>
    </div>
</div>

